FROM node:22-alpine
WORKDIR /app
COPY apps/matrix-bridge/package.json ./
RUN npm install --production
COPY apps/matrix-bridge/tsconfig.json ./
COPY apps/matrix-bridge/src ./src
RUN npx tsc
EXPOSE 4004
CMD ["node", "dist/index.js"]
